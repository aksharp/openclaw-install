OpenClaw teardown â€” restore cluster to state before openclaw was installed
===========================================================================

Run these commands from your machine (requires helm and kubectl):

  # 1. Uninstall OpenClaw (gateway, Vault, observability, HAProxy, cert-manager)
  helm uninstall {{ .Values.openclaw.releaseName }} -n {{ .Values.openclaw.namespace }} --wait

{{- if .Values.deleteNamespaces }}

  # 2. Delete namespace (full rollback)
  kubectl delete namespace {{ .Values.openclaw.namespace }} --ignore-not-found --timeout=120s
{{- end }}

  # 3. Remove this teardown release (optional)
  helm uninstall {{ .Release.Name }} -n {{ .Release.Namespace }}

Teardown script is stored in ConfigMap {{ include "openclaw-teardown.name" . }}-teardown-script.
To view: kubectl get configmap {{ include "openclaw-teardown.name" . }}-teardown-script -n {{ .Release.Namespace }} -o yaml
